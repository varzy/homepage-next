---
title: "ä½¿ç”¨ Stylelint è§„èŒƒæ ·å¼ä»£ç "
category: "Coding"
type: "Post"
status: "Published"
tags: ["CSS", "Stylelint"]
date: "2021-10-05"
slug: "stylelint-basic-usage"
summary: ""
last_edited_time: "2024-03-16T08:21:00.000Z"
blog_last_fetched_time: "2025-08-06T03:16:57.321Z"
notion_id: "daf51441-5527-4fca-b73b-cb1615d57093"
---


Stylelint æ˜¯ä¸€ä¸ªå¼ºå¤§å’Œç°ä»£çš„ CSS å®¡æŸ¥å·¥å…·ï¼Œæœ‰åŠ©äºå¼€å‘è€…æ¨è¡Œç»Ÿä¸€çš„ä»£ç è§„èŒƒï¼Œé¿å…æ ·å¼é”™è¯¯ï¼Œç›®å‰å·²ç»åŸç”Ÿæ”¯æŒ CSSã€Lessã€Sass ç­‰è¯­æ³•ã€‚Stylelint çš„ API ä¸ ESLint é«˜åº¦ä¸€è‡´ï¼Œå¦‚æœä½ ä½¿ç”¨è¿‡ ESLintï¼Œé‚£ä¹ˆåº”è¯¥å¾ˆå®¹æ˜“å°±å¯ä»¥ä¸Šæ‰‹ Stylelintã€‚


## èµ·æ­¥


å’Œ ESLint é«˜åº¦ç±»ä¼¼ï¼ŒStylelint ä¹Ÿæ”¯æŒäº†é…ç½®ã€æ’ä»¶ç­‰å„ç§åŠŸèƒ½ã€‚å› æ­¤æˆ‘ä»¬é¦–å…ˆéœ€è¦å®‰è£… `stylelint` æœ¬ä½“å’ŒåŸºç¡€çš„ standard è§„åˆ™é›†ã€‚


```shell
npm install -D stylelint stylelint-config-standard
// or
yarn add -D stylelint stylelint-config-standard
```


æ¥ç€æˆ‘ä»¬åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª Stylelint çš„é…ç½®æ–‡ä»¶ã€‚å®˜ç½‘ç¤ºä¾‹è¦æ±‚ä½ æ–°å»ºä¸€ä¸ª `.stylelintrc.json` æ–‡ä»¶ï¼Œä½†å®é™…ä¸Šä½ ä¹Ÿå¯ä»¥ä½¿ç”¨  `.stylelintrc.js` ç­‰æ–‡ä»¶æ ¼å¼ã€‚æˆ‘ä¸ªäººæ›´å–œæ¬¢ä½¿ç”¨ js æ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚


åœ¨é¡¹ç›®æ ¹ç›®å½•æ–°å»º `.stylelintrc.js` æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹è§„åˆ™ï¼š


```javascript
module.exports = {
  extends: ['stylelint-config-standard'],
};
```


æ¥ç€æˆ‘ä»¬å¯ä»¥åœ¨ `package.json` ä¸­æ·»åŠ  npm è„šæœ¬å®ç°ä¸€é”®æ ¼å¼åŒ–å¹¶æ£€æŸ¥æ ·å¼æ–‡ä»¶ï¼š


```javascript
"scripts": {
  "stylelint": "stylelint --fix \"src/**/*.{css,sass,scss}\"",
},
```


å½“ç„¶ï¼Œä½ çš„é¡¹ç›®å¯èƒ½ä¸æ­¢æœ‰ Stylelint è¿™ä¸€ç§æ ¼å¼åŒ–å·¥å…·ï¼Œå› æ­¤æˆ‘æ›´æ¨èä½ æ·»åŠ ä¸€æ¡ç»Ÿä¸€çš„â€œä¸²è”â€å‘½ä»¤ï¼š


```javascript
"scripts": {
  "lint:prettier": "prettier --loglevel warn --write \"src/**/*.{wxml,wxss,scss,wxs,json,md}\"",
  "lint:eslint": "eslint --fix \"src/**/*.js\"",
  "lint:stylelint": "stylelint --fix \"src/**/*.scss\"",
  // æ‰§è¡Œ npm run lint å¯ä»¥ä¸€æ¬¡æ€§æ ¼å¼åŒ–å¤šç§æ–‡ä»¶
  "lint": "npm run lint:prettier && npm run lint:eslint && npm run lint:stylelint",
},
```


## CSS å±æ€§è‡ªåŠ¨æ’åº


æ—©åœ¨å¤šå¹´ä»¥å‰ï¼Œæˆ‘å°±è¯»è¿‡å…³äº CSS å±æ€§æ’åºçš„æœ€ä½³å®è·µï¼Œæ¯”å¦‚æ–‡æ¡£æµç›¸å…³å±æ€§é ä¸Šæ”¾ï¼Œè€Œå…ƒç´ è‡ªèº«å±æ€§å¾€åæ”¾ç­‰ã€‚ä½†å³ä½¿æ˜¯åƒæˆ‘è¿™æ ·çš„è¶…çº§é‡åº¦ä»£ç æ ¼å¼åŒ–å¼ºè¿«ç—‡éƒ½æ— æ³•å®Œå…¨éµå¾ªä¹‹ã€‚æ¯•ç«Ÿ CSS ä»£ç æ˜¯éæ­£äº¤çš„ï¼Œå±æ€§çš„ä¸Šä¸‹æ’åˆ—å½±å“å®åœ¨å¾®ä¹å…¶å¾®ã€‚æˆ‘è¿æ ·å¼éƒ½æ‡’å¾—å†™äº†ï¼Œä½ ç«Ÿç„¶è¿˜è®©æˆ‘æ‰‹åŠ¨åŠ ä¸€äº›æ²¡ä»€ä¹ˆæ„ä¹‰çš„æ’åºï¼Ÿè€Œ Stylelint å°±å¯ä»¥å¸®æˆ‘ä»¬æ— ç—›æå®šè¿™ä»¶äº‹ã€‚


é¦–å…ˆæˆ‘ä»¬å®‰è£… `stylelint-order` è¿™ä¸ªæ’ä»¶ï¼š


```javascript
yarn add -D stylelint-order
```


æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦åœ¨ Stylelint çš„é…ç½®æ–‡ä»¶ä¸­å¯ç”¨è¿™ä¸ªæ’ä»¶ï¼š


```javascript
// .stylelintrc.js
module.exports = {
  extends: ['stylelint-config-standard'],
  plugins: ['stylelint-order'],
};
```


æ¥ä¸‹æ¥ä½ å°±å¯ä»¥è‡ªå®šä¹‰å„ç§å±æ€§æ’åºè§„åˆ™äº†ï¼Œè¯¦æƒ…è¯·æŸ¥é˜…æ’ä»¶çš„ [Github README](https://github.com/hudochenkov/stylelint-order)ã€‚æ¯”å¦‚ï¼š


```javascript
// .stylelintrc.js
module.exports = {
  extends: ['stylelint-config-standard'],
  plugins: ['stylelint-order'],
  rules: {
		'order/order': ['custom-properties', 'declarations'],
		'order/properties-order': ['width', 'height']
	}
};
```


ä½†æˆ‘ä»ç„¶æ›´æ¨èä½ ç›´æ¥ä½¿ç”¨å…¶ä»–å¼€å‘è€…ç»´æŠ¤çš„è§„åˆ™é›†åˆã€‚åœ¨ [Example configs](https://github.com/hudochenkov/stylelint-order#example-configs) è¿™ä¸€èŠ‚ä¸­æåˆ°äº†å‡ ä¸ªå®˜æ–¹æ¨èçš„è§„åˆ™é›†ï¼Œåˆ†åˆ«æ˜¯ï¼š

- [`stylelint-config-idiomatic-order`](https://github.com/ream88/stylelint-config-idiomatic-order)
- [`stylelint-config-hudochenkov/order`](https://github.com/hudochenkov/stylelint-config-hudochenkov/blob/master/order.js)
- [`stylelint-config-recess-order`](https://github.com/stormwarning/stylelint-config-recess-order)
- [`stylelint-config-property-sort-order-smacss`](https://github.com/cahamilton/stylelint-config-property-sort-order-smacss)

ç»è¿‡æˆ‘çš„å®é™…ä½¿ç”¨ä½“éªŒï¼Œæˆ‘ä¸ªäººè®¤ä¸º [`stylelint-config-recess-order`](https://github.com/stormwarning/stylelint-config-recess-order) æ˜¯å…¶ä¸­æœ€å¥½çš„ä¸€ä¸ªã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å®‰è£…å¹¶ä½¿ç”¨è¿™ä¸ªè§„åˆ™é›†ï¼š


```shell
yarn add -D [stylelint-config-recess-order](https://github.com/stormwarning/stylelint-config-recess-order)
```


```javascript
// .stylelintrc.js
module.exports = {
  extends: ['stylelint-config-standard', 'stylelint-config-recess-order'],
  plugins: ['stylelint-order'],
};
```


## è‡ªå®šä¹‰è§„åˆ™


å½“æŸäº›é»˜è®¤è§„åˆ™ä¸ç¬¦åˆä½ çš„èƒƒå£æ—¶ï¼Œä½ ä¹Ÿå¯ä»¥é‡æ–°ç¼–å†™è§„åˆ™è¿›è¡Œè¦†ç›–ã€‚åœ¨ Stylelint çš„ [Rules](https://stylelint.io/user-guide/rules/list/) è¿™ä¸€å°èŠ‚ä¸­ï¼Œä½ å¯ä»¥æ‰¾åˆ° Stylelint æ”¯æŒçš„æ‰€æœ‰è§„åˆ™ã€‚


> ğŸ’¡ å°±ä¸ªäººæ„Ÿå—è€Œè¨€ï¼ŒStylelint çš„å„ç§è§„åˆ™ä»ç•¥æ˜¾ä¿å®ˆï¼Œæ¯”å¦‚å¾ˆå¤šé€‰é¡¹åªèƒ½è¿›è¡Œä¿®æ”¹è€Œæ— æ³•è¿›è¡Œå…³é—­ï¼Œè€Œ ESLint å°±ç»™äººä¸€ç§æ— æ‰€ä¸èƒ½çš„æ„Ÿè§‰ã€‚


ä¸‹é¢ç»™å‡ºä¸€ä¸ªå®Œæ•´çš„é…ç½®æ–‡ä»¶ä¾‹å­ï¼š


```javascript
module.exports = {
  extends: ['stylelint-config-standard', 'stylelint-config-recess-order'],
  plugins: ['stylelint-order'],
  rules: {
		// å…¼å®¹å¾®ä¿¡å°ç¨‹åºçš„è‡ªå®šä¹‰ç»„ä»¶
    'selector-type-no-unknown': [
      true,
      { ignoreTypes: ['page', 'scroll-view', 'block'] },
    ],
		// å…¼å®¹ rpx å•ä½
    'unit-no-unknown': [
      true,
      { ignoreUnits: ['rpx'] },
    ],
    // å…¼å®¹éƒ¨åˆ† Sass è¯­æ³•
    'at-rule-no-unknown': [
      true,
      { ignoreAtRules: ['function', 'if', 'else', 'for', 'each', 'include', 'mixin', 'return'] },
    ],
  },
};
```


## å¿½ç•¥éƒ¨åˆ†æ–‡ä»¶


ä½ å¯ä»¥åˆ›å»ºç±»ä¼¼ `.gitignore` `.prettierignore` å’Œ `.eslintignore` è¿™æ ·çš„ `.stylelintignore` æ–‡ä»¶ç”¨äºå¿½ç•¥ä½ ä¸éœ€è¦è¿›è¡Œæ£€æŸ¥çš„æ ·å¼æ–‡ä»¶ã€‚


```text
src/miniprogram_npm/
src/vendor/
```

