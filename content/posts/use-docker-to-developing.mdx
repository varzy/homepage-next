---
title: "ä½¿ç”¨ Docker æ‰˜ç®¡ä¸€éƒ¨åˆ†å¼€å‘ç¯å¢ƒ"
category: "Coding"
type: "Post"
status: "Published"
tags: ["Docker", "DevEnv", "ç²¾é€‰"]
date: "2021-09-12"
slug: "use-docker-to-developing"
summary: ""
last_edited_time: "2024-03-16T08:21:00.000Z"
notion_id: "1f966285-bf21-4640-9e24-11b81c8720a6"
---


> ğŸ’¡ æœ¬æ–‡ä¸»è¦é¢å‘ Docker åˆå­¦è€…æˆ–å‰ç«¯å¼€å‘è€…ã€‚é˜…è§ˆæœ¬æ–‡å‰ï¼Œè¯·åŠ¡å¿…å…ˆäº†è§£ Docker æ˜¯ä»€ä¹ˆï¼Œä»¥åŠå„ç§åŸºæœ¬æ¦‚å¿µ (é•œåƒã€å®¹å™¨ç­‰)ã€‚


## Why & How?


æˆ‘æ˜¯ä¸€ä¸ªå¼€å‘ç¯å¢ƒæ´ç™–ä¸»ä¹‰è€…ï¼Œå„ç§å¼€å‘ç¯å¢ƒä¹‹é—´çš„ç›¸äº’å½±å“éå¸¸è®¨åŒï¼Œå› æ­¤æˆ‘æ›¾ç»å‡ ä¹å°è¯•è¿‡ç½‘ä¸Šçš„æ‰€æœ‰è§£å†³æ–¹æ¡ˆï¼Œæ¯”å¦‚ GUI è™šæ‹Ÿæœºã€Vagrantã€WSL ç­‰ç­‰ï¼Œä½†è¿™äº›éƒ½æœ‰æˆ–å¤šæˆ–å°‘çš„ç¼ºç‚¹ï¼Œå°¤å…¶æ˜¯å½“æˆ‘åœ¨ä½¿ç”¨ Windows ç³»ç»Ÿçš„æ—¶å€™ï¼Œå¼€å‘ç¯å¢ƒæ°¸è¿œæ˜¯ä¸€ä¸ªç—›ç‚¹ã€‚è€Œæ¨ªå‘å¯¹æ¯”ä¸‹æ¥ï¼ŒDocker æˆ–è®¸æ˜¯å½“ä¸‹æœ€ä¼˜çš„è§£å†³æ–¹æ¡ˆäº†ã€‚è™½ç„¶ Docker è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æ–¹ä¾¿è¿›è¡Œéƒ¨ç½²å’Œè¿ç»´ï¼Œä½†åªè¦æ˜¯èƒ½ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒçš„å®¶ä¼™ï¼Œå½“ç„¶ä¹Ÿèƒ½ç”¨åœ¨å¼€å‘ç¯å¢ƒã€‚é‚£ Docker åœ¨å¼€å‘ç¯å¢ƒç©¶ç«Ÿå¯ä»¥åšå“ªäº›äº‹å‘¢ï¼Ÿ

1. æˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å’Œç³»ç»Ÿè”ç³»ä¸æ…ç´§å¯†çš„æœåŠ¡ä½¿ç”¨ Docker æ‰˜ç®¡ï¼Œæ¯”å¦‚ MySQLã€Redisã€MongoDB ä¹‹ç±»çš„æ•°æ®åº“è½¯ä»¶ã€‚å½“æˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸åŒç‰ˆæœ¬çš„ MySQL æ—¶ï¼Œåªéœ€è¦æ‹‰å–ä¸€ä¸ªæ–°çš„é•œåƒï¼Œèµ·ä¸€ä¸ªæ–°çš„å®¹å™¨å³å¯ï¼Œè€Œå‡å¦‚ç”¨ Homebrew ç­‰åŒ…ç®¡ç†å·¥å…·å»ç®¡ç†å¤šä¸ªç‰ˆæœ¬çš„ MySQL æ—¶ï¼Œå°±ä¸ä¼šåƒ Docker è¿™èˆ¬ä¼˜é›…äº†ã€‚
2. æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä¸€äº›é…ç½®å¼‚å¸¸å¤æ‚çš„è½¯ä»¶è·‘åœ¨ Docker é‡Œï¼Œæ¯”å¦‚ Gitlab è¿™æ ·çš„å·¨å‹é¡¹ç›®ã€‚
3. ä¸€äº›å¹³å°å·®å¼‚å·¨å¤§çš„è½¯ä»¶ä½¿ç”¨ Docker æ‰˜ç®¡æ˜¯æ›´å¥½çš„é€‰æ‹©ã€‚Nginx å¯èƒ½æ˜¯ç›®å‰ä¸–ç•Œä¸Šæœ€æµè¡Œçš„ Web Serverï¼Œè€Œè¿™ç§ç”Ÿè€Œä¸º Linux æœåŠ¡çš„è½¯ä»¶åœ¨ Windows ä¸‹çš„è¡¨ç°å¹¶ä¸å¥½ (å½“ç„¶è¿™åº”è¯¥ä¸ç®—æ˜¯ Nginx çš„é”™)ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ Docker ä¸­çš„ Nginxï¼Œæä¾›ä¸ç”Ÿäº§ç¯å¢ƒå‡ ä¹ä¸€è‡´çš„ä½“éªŒã€‚è™½ç„¶ Docker åœ¨ Windowsï¼ŒMacOS å’Œ Linux ä¸Šçš„è¡¨ç°å¹¶ä¸å®Œå…¨ä¸€è‡´ï¼Œä½†ç»å¤§éƒ¨åˆ†æ—¶é—´åœºæ™¯ä¸‹å…¶è·¨å¹³å°ç‰¹æ€§è¿˜æ˜¯å¾ˆå¤Ÿç”¨çš„ï¼Œèƒ½ä¸ºæˆ‘ä»¬çœå»å¾ˆå¤šçƒ¦æ¼ã€‚
4. æˆ‘ä»¬ç”šè‡³è¿˜å¯ä»¥æŠŠ Docker å½“ä½œä¸€ä¸ªè™šæ‹Ÿæœºè¿›è¡Œé¡¹ç›®å¼€å‘ã€‚å€ŸåŠ©ç›®å½•ã€ç«¯å£æ˜ å°„ç­‰åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°ç±»ä¼¼è™šæ‹Ÿæœºä¸€æ ·çš„ï¼Œåœ¨å®¿ä¸»æœºç¼–å†™ä»£ç ã€åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œçš„æ•ˆæœã€‚å¦‚æœå®¹å™¨å†…çš„å¼€å‘ç¯å¢ƒâ€œè„â€äº†ï¼Œæˆ‘ä»¬åªéœ€è¦é‡æ–°èµ·ä¸€ä¸ªæ–°å®¹å™¨å³å¯ã€‚å½“ç„¶ï¼Œè¿™ç§æ–¹æ¡ˆä¼šæœ‰æ€§èƒ½æŸè€—ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼Œç”¨æ¥åšå°ä¸€äº›å°é¡¹ç›®ã€æˆ–è€…å­¦ä¹ ä¸€äº›æ–°æŠ€æœ¯è¿›è¡Œç»ƒæ‰‹æ˜¯å¯ä»¥çš„ï¼Œä½†å½“é¡¹ç›®ä½“é‡è¶³å¤Ÿå¤§æ—¶ï¼Œè¿™ç§æ–¹æ¡ˆå¯èƒ½å°±ä¼šå¸¦æ¥å„ç§å„æ ·çš„é—®é¢˜ã€‚
5. å¦‚æœéœ€è¦å…¶ä»–åŒäº‹çš„é¡¹ç›®è·‘åœ¨æœ¬æœºè¿›è¡Œè”è°ƒï¼Œæ¯”å¦‚åç«¯çš„ Java æˆ–è€… PHP é¡¹ç›®ï¼Œé‚£ä¹ˆå¯ä»¥è®©ä»–ä»¬æ‰“æˆ Docker é•œåƒï¼Œå‰ç«¯åŒäº‹åªéœ€è¦æŠŠé•œåƒè·‘èµ·æ¥å³å¯ï¼Œæ— é¡»æœ¬åœ°æ­å»ºåç«¯ç¯å¢ƒã€‚

## docker-compose.yml ä»¥åŠæ•°æ®åº“æœåŠ¡


ä»¥ Docker æœ€å¸¸è§çš„æ‰˜ç®¡ MySQL ä¸ºä¾‹ï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿä½¿ç”¨çš„ MySQL å®¹å™¨éœ€è¦ä¸¤æ¡å‘½ä»¤ï¼š


```shell
docker pull mysql
docker run --name some-mysql \
  -v ./mysql/conf.d:/etc/mysql/conf.d \
  -v ./mysql/datadir:/var/lib/mysql \
  -e MYSQL_ROOT_PASSWORD=my-secret-pw \
  -d mysql
```


å¯ä»¥çœ‹åˆ°å¯åŠ¨å‘½ä»¤å…¶å®æ˜¯æ¯”è¾ƒç¹ççš„ï¼Œå†µä¸”è¿™è¿˜æ˜¯åªæœ‰ä¸€ä¸ª MySQL çš„æƒ…å†µã€‚å½“æˆ‘ä»¬æœ‰å…¶ä»–ç‰ˆæœ¬çš„ MySQL æˆ–è€…å…¶ä»–æœåŠ¡éœ€è¦ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå•çº¯ç”¨å‘½ä»¤è¡Œæ“ä½œå°±æ˜¾å¾—éå¸¸ç¹çäº†ã€‚å› æ­¤æˆ‘ä»¬ä¹Ÿéœ€è¦åˆ›å»ºä¸€ä¸ªå±äºå¼€å‘ç¯å¢ƒçš„ docker-compose.yml æ–‡ä»¶ç”¨æ¥ç®¡ç†ä¸€åˆ‡æˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æœåŠ¡ã€‚


é¦–å…ˆåœ¨ä½ å–œæ¬¢çš„ä½ç½®åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåœ¨å…¶ä¸­æ·»åŠ  `docker-compose.yml`ã€‚


```yaml
version: "3.8"

services:
	mysql:
			# å¯åŠ¨åçš„å®¹å™¨åç§°
	    container_name: mysql
			# éœ€è¦ä½¿ç”¨çš„é•œåƒåŠç‰ˆæœ¬
		  image: mysql:latest
			# æ€»æ˜¯è‡ªåŠ¨é‡å¯
	    restart: always
			# ç«¯å£æ˜ å°„
	    ports:
	      - "3306:3306"
			# æ•°æ®å·æ˜ å°„
	    volumes:
	      - ./data/mysql:/var/lib/mysql
			# é•œåƒéœ€è¦ä½¿ç”¨çš„ç¯å¢ƒå˜é‡
	    environment:
	      - MYSQL_ROOT_PASSWORD=pass
	      - TZ=PRC
```


æ¥ç€æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œ `docker compose up -d` å°±å¯ä»¥ç›´æ¥å¯åŠ¨æ–‡ä»¶ä¸­çš„æ‰€æœ‰æœåŠ¡ã€‚æˆ‘ä»¬è¿˜å¯ä»¥ç»™å¯åŠ¨å‘½ä»¤æ·»åŠ æœåŠ¡åä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºä»…å¯åŠ¨æŒ‡å®šçš„æœåŠ¡ï¼Œæ¯”å¦‚ `docker compose up -d mysql`ã€‚


æŒ‰ç…§è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ `docker-compose.yml` ä¸­æ·»åŠ è‡ªå·±éœ€è¦çš„å„ç§æœåŠ¡å³å¯ï¼Œæ¯”å¦‚ Redisã€MongoDB ç­‰ã€‚ä¸‹é¢å†ç»™å‡ºä¸€ä¸ªæ·»åŠ äº† Redis å’Œ MongoDB çš„å®Œæ•´ä¾‹å­ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨äº† `redis:alpine` è¿™ä¸ªåŸºç¡€é•œåƒï¼Œè¿™æ˜¯å› ä¸ºåŸºäº alpine è¿™ä¸ª linux å‘è¡Œç‰ˆçš„ Docker é•œåƒä½“ç§¯éå¸¸å°ï¼Œæ²¡æœ‰ç‰¹æ®Šéœ€æ±‚çš„è¯ï¼Œåº”å½“å°½å¯èƒ½é€‰ç”¨ alpine ç‰ˆæœ¬çš„é•œåƒã€‚

<details>
<summary>`docker-compose.yml`</summary>

```yaml
version: "3.8"

services:
  mysql:
    container_name: mysql
    image: mysql:latest
    restart: always
    ports:
      - "3306:3306"
    volumes:
      - ./data/mysql:/var/lib/mysql
    environment:
      - MYSQL_ROOT_PASSWORD=pass
      - TZ=PRC

  redis:
    container_name: redis
    image: redis:alpine
    restart: always
    ports:
      - "6379:6379"
    volumes:
      - ./data/redis:/data

  mongo:
    container_name: mongo
    image: mongo:latest
    restart: always
    ports:
      - "27017:27017"
    volumes:
      - ./data/mongo/data:/data/db
      - ./data/mongo/config:/data/configdb
    environment:
      - MONGO_INITDB_ROOT_USERNAME=root
      - MONGO_INITDB_ROOT_PASSWORD=pass
```


</details>


## ä½¿ç”¨ Nginx


### èµ·æ­¥å’Œåˆå§‹åŒ–


é¦–å…ˆï¼Œç»™æˆ‘ä»¬çš„ docker-compose.yml ä¸­æ·»åŠ  Nginx ç›¸å…³é…ç½®ï¼š


```yaml
version: "3.8"

# éšè—äº†å…¶ä»–æœåŠ¡
services:
  nginx:
    container_name: nginx
	  image: nginx:alpine
    restart: always
    ports:
      - "80:80"
      - "443:443"
    volumes:
      - ./nginx/conf.d:/etc/nginx/conf.d
      - ./sites:/usr/share/nginx/html
      - ./data/nginx/logs:/var/log/nginx
```


ä»æˆ‘ä»¬æ˜ å°„çš„ç›®å½•å·å¯ä»¥çœ‹å‡ºï¼Œ`./nginx/conf.d` æ˜¯å­˜åœ¨é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ‰€æœ‰çš„é…ç½®æ–‡ä»¶æ”¾åœ¨è¿™é‡Œï¼›è€Œ `./sites` åˆ™æ˜¯å­˜æ”¾æˆ‘ä»¬ç½‘ç«™èµ„æºçš„åœ°æ–¹ï¼Œåœ¨ç¼–å†™é…ç½®æ–‡ä»¶æ—¶ï¼Œè¿™ä¸ªè·¯å¾„éœ€è¦æ”¹ä¸ºå®¹å™¨è·¯å¾„ `/usr/share/nginx/html`ï¼›`./data/nginx/logs` åˆ™ç”¨æ¥å­˜æ”¾æ—¥å¿—ã€‚


éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ`./nginx/conf.d` ç›®å½•ä¸‹æ˜¯ç©ºçš„ï¼Œè€Œå®¹å™¨ä¸­çš„ Nginx åœ¨ `conf.d` ä¸‹åº”è¯¥æœ‰ä¸€ä¸ªé»˜è®¤é…ç½®æ–‡ä»¶ `default.conf`ã€‚å¦‚æœæˆ‘ä»¬ç›´æ¥è¿™ä¹ˆå¯åŠ¨å®¹å™¨ï¼Œå°±ä¼šè®©å®¹å™¨å†…çš„ `conf.d` ç›®å½•ä¹Ÿå˜æˆç©ºç›®å½•ã€‚å› æ­¤æˆ‘ä»¬éœ€è¦æå‰åœ¨å®¿ä¸»æœºçš„ `./nginx/conf.d` ä¸‹æ”¾ç½®ä¸€ä¸ª `default.conf`ã€‚è¿™ä¸ªæ–‡ä»¶æ€ä¹ˆè·å–å‘¢ï¼Ÿä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªä¸€æ¬¡æ€§çš„ Nginx å®¹å™¨ï¼ŒæŠŠè¿™ä¸ªé…ç½®æ–‡ä»¶æ‹·è´åˆ°å®¿ä¸»æœºï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»ç½‘ä¸Šæ‰¾ä¸€ä¸ªç°æˆçš„ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªæˆ‘ä»å®¹å™¨å†…æ‹·è´å‡ºæ¥çš„é…ç½®ï¼š

<details>
<summary><u>ç‚¹æˆ‘å±•å¼€</u></summary>

```text
server {
    listen       80;
    listen  [::]:80;
    server_name  localhost;

    #access_log  /var/log/nginx/host.access.log  main;

    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }

    #error_page  404              /404.html;

    # redirect server error pages to the static page /50x.html
    #
    error_page   500 502 503 504  /50x.html;
    location = /50x.html {
        root   /usr/share/nginx/html;
    }

    # proxy the PHP scripts to Apache listening on 127.0.0.1:80
    #
    #location ~ \.php$ {
    #    proxy_pass   http://127.0.0.1;
    #}

    # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000
    #
    #location ~ \.php$ {
    #    root           html;
    #    fastcgi_pass   127.0.0.1:9000;
    #    fastcgi_index  index.php;
    #    fastcgi_param  SCRIPT_FILENAME  /scripts$fastcgi_script_name;
    #    include        fastcgi_params;
    #}

    # deny access to .htaccess files, if Apache's document root
    # concurs with nginx's one
    #
    #location ~ /\.ht {
    #    deny  all;
    #}
}
```


</details>


æ¥ä¸‹æ¥æˆ‘ä»¬ä½¿ç”¨ `docker compose up -d nginx` å¯åŠ¨å®¹å™¨ï¼ŒæˆåŠŸååœ¨æµè§ˆå™¨æ‰“å¼€ `http://localhost`ï¼Œè¯¶ï¼Œç†Ÿæ‚‰çš„é‚£ä¸ª Nginx å¯åŠ¨ç”»é¢æ€ä¹ˆæ²¡æœ‰äº†å‘¢ï¼Ÿä¸é…ç½®æ–‡ä»¶ç›®å½•åŒç†ï¼Œå®¿ä¸»æœºä¸‹çš„ `./sites` æ˜¯ç©ºç›®å½•ï¼Œå› æ­¤ä¼šæŠŠå®¹å™¨ä¸­çš„ `/usr/share/nginx/html` ç›®å½•ä¹ŸåŒæ­¥ä¸ºç©ºç›®å½•ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ `./sites` ä¸‹åˆ›å»ºä¸€ä¸ª `index.html`ã€‚


```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body style="background-color: bisque;">
  <h1>Nginx is working.</h1>
</body>
</html>
```


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e753f4ed-a9d5-4b94-80b5-b5d3a8dd4851/10500627-6640-4d35-969c-c0ec57f1771d/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664EMNVTG%2F20250806%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250806T025114Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDMaCXVzLXdlc3QtMiJGMEQCID%2BLVQBa3CO4Ndasw7qs%2BOQkcObKa5XGY35rPNegqg2AAiBPh5urBhQhRtvGkaSf6TYo8r20d7i%2BE%2FDriODnpstRUSr%2FAwhrEAAaDDYzNzQyMzE4MzgwNSIM8sYU74U1DwG0skTaKtwDdERiUtNUiKKfv0py9VspYb%2FjyX8avOPCQnd68UGbkiD9R3eitconF1cWutW%2FEpctMKT3xfNGLwXD%2BQoLUMhlwpbIUzl91Eemd%2F427QtPEak8DcUuujrrgd8oKz1GRqmTZacbDmTWw6wGN7thafkNkrzxzopx4oxm5jGPYSypyzo4rcyp3cpHKjP%2BjnxUrOysC4jN36MAzcwHIMlUbFAH2qdMmA2yvz7i8rQGmPiEN5y3Jdgvoz0yR6HZvL6h6ixasmdA7B6g2phuzW8cBcCcLemTdeW%2FKQw0iHA%2BcAHXzB54Mz5qNUebP0xT3kFvvIwM0yOVAaXWK1Zx0d5l%2BXumQlCDKiUAW8XAWkZU%2BX%2F65aj3XYPWTFJ%2FaQ0y2wSlP4yQvpfTbyzZZFH5d4wn5EEfsOU3R54FXJYCYpOU70k%2BqNOf6gAt%2F9PFiIPDc4tk5QBaB%2FPEElnu4bw5EIOHkg4y3dxO0gFphew1VQzyJOEgEmOJyicCwnjbOA1QdhFNrAn5kD5Z9b8DaKHlaM%2Fe02VqLAhBNYMxmtnfQhHSKhCgVSh8Np9yXCpTnbt6xXGvggD0%2FolXXfd6pGcCv3uAUES2MXILXSM%2FEd3uW6903sl4zOVmWyFlb%2BH1XiRW55YwivjKxAY6pgGOsrrcybFRGq4muaDgPNk8HyOWoVpddIXP%2FsTDfS6rdNF5WgNgc7FXuoe2ZNlenBMBRHirmHMK0svVfiaJlLwYN5WUNE5aeVv3G30aiaUEg8k7baHuSO3V1IFIMcBsJBL3Q7HBFIHvhDHUsfgjo71KevfbPn%2FAYb2ZRYeYLyATWz2olMoiz40q60Z4%2BW%2F906Gzdg1W%2Bml3i%2F6mE1tj9quaaH33M7mx&X-Amz-Signature=ebc83d8c0eb0cd3d33f17b78a5edb306166fc263584b3c1edfcf8cfa3e829579&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


å¤§åŠŸå‘Šæˆï¼ç°åœ¨ Nginx çš„è¡¨ç°å°±ä¸å®¿ä¸»æœºä½¿ç”¨ Homebrew ç­‰å·¥å…·å®‰è£… Nginx åçš„æ•ˆæœåŸºæœ¬ä¸€è‡´äº†ã€‚


### ä»£ç†é™æ€æ–‡ä»¶ (æ­£å‘ä»£ç†)


æ¥ä¸‹æ¥æˆ‘ä»¬ç¼–å†™ä¸€ä¸ªç®€å•çš„ demoã€‚é¦–å…ˆåˆ›å»º `./nginx/conf.d/app.conf`ã€‚


```yaml
server {
  listen 80;
  server_name app.devos.com;

  location / {
    root /usr/share/nginx/html/app;
    index index.html;
  }
}
```


å¯ä»¥çœ‹å‡ºï¼Œæˆ‘ä»¬çš„é™æ€èµ„æºç›®å½•éœ€è¦å­˜æ”¾åœ¨å®¿ä¸»æœºä¸‹çš„ `./sites/app`ï¼Œé¦–é¡µæ–‡ä»¶æ˜¯ `index.html`ï¼Œå®¿ä¸»æœºä½¿ç”¨ `http://app.devos.com` è¿›è¡Œè®¿é—®ã€‚


åˆ›å»º `./sites/app/index.html`ã€‚


```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body style="background-color: slategrey;">
  <h1>App is working.</h1>
</body>
</html>
```


æ¥ä¸‹æ¥æˆ‘ä»¬æƒ³è®¿é—® `http://app.devos.com` æ—¶ä»ç„¶è®¿é—®æœ¬æœºçš„ Nginxï¼Œå½“ç„¶éœ€è¦åœ¨å®¿ä¸»æœºçš„ hosts é‡Œæ·»åŠ ä¸€æ¡æ–°çš„è®°å½•ã€‚æ³¨æ„ï¼Œä¸åŒç³»ç»Ÿä¸‹ hosts æ–‡ä»¶ä½ç½®ä¸åŒï¼ŒMac / Linux ç³»ç»Ÿä¸‹ä½äº `/etc/hosts`ï¼ŒWindows ç³»ç»Ÿä¸‹ä½äº `C:\Windows\System32\drivers\etc\hosts` (å¤ªé¬¼ç•œäº†è¿™è·¯å¾„)ã€‚


```html
127.0.0.1       app.devos.com
```


ä½†è¿™æ—¶ `http://app.devos.com` ä»ç„¶æ˜¯æ— æ³•è®¿é—®çš„ã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬æ›´æ–°äº† Nginx çš„é…ç½®æ–‡ä»¶ï¼Œä½†å®¹å™¨ä¸­çš„ Nginx è¿˜æ²¡æœ‰è½½å…¥è¿™ä¸ªé…ç½®ã€‚å› æ­¤æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹å¼ï¼š

1. ä½¿ç”¨ `docker exec -it nginx sh`ï¼Œè¿›å…¥å®¹å™¨ï¼Œç„¶åæ‰§è¡Œ `nginx -s reload`
2. ç›´æ¥æš´åŠ›é‡å¯å®¹å™¨ï¼Œ`docker compose restart nginx`

æ¥ç€æˆ‘ä»¬è®¿é—® `http://app.devos.com`ï¼Œå°±å¯ä»¥çœ‹åˆ°å·²ç»æˆåŠŸäº†ã€‚


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e753f4ed-a9d5-4b94-80b5-b5d3a8dd4851/c1b567d8-b0bf-4ef4-a551-f655c95ad15b/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664EMNVTG%2F20250806%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250806T025114Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDMaCXVzLXdlc3QtMiJGMEQCID%2BLVQBa3CO4Ndasw7qs%2BOQkcObKa5XGY35rPNegqg2AAiBPh5urBhQhRtvGkaSf6TYo8r20d7i%2BE%2FDriODnpstRUSr%2FAwhrEAAaDDYzNzQyMzE4MzgwNSIM8sYU74U1DwG0skTaKtwDdERiUtNUiKKfv0py9VspYb%2FjyX8avOPCQnd68UGbkiD9R3eitconF1cWutW%2FEpctMKT3xfNGLwXD%2BQoLUMhlwpbIUzl91Eemd%2F427QtPEak8DcUuujrrgd8oKz1GRqmTZacbDmTWw6wGN7thafkNkrzxzopx4oxm5jGPYSypyzo4rcyp3cpHKjP%2BjnxUrOysC4jN36MAzcwHIMlUbFAH2qdMmA2yvz7i8rQGmPiEN5y3Jdgvoz0yR6HZvL6h6ixasmdA7B6g2phuzW8cBcCcLemTdeW%2FKQw0iHA%2BcAHXzB54Mz5qNUebP0xT3kFvvIwM0yOVAaXWK1Zx0d5l%2BXumQlCDKiUAW8XAWkZU%2BX%2F65aj3XYPWTFJ%2FaQ0y2wSlP4yQvpfTbyzZZFH5d4wn5EEfsOU3R54FXJYCYpOU70k%2BqNOf6gAt%2F9PFiIPDc4tk5QBaB%2FPEElnu4bw5EIOHkg4y3dxO0gFphew1VQzyJOEgEmOJyicCwnjbOA1QdhFNrAn5kD5Z9b8DaKHlaM%2Fe02VqLAhBNYMxmtnfQhHSKhCgVSh8Np9yXCpTnbt6xXGvggD0%2FolXXfd6pGcCv3uAUES2MXILXSM%2FEd3uW6903sl4zOVmWyFlb%2BH1XiRW55YwivjKxAY6pgGOsrrcybFRGq4muaDgPNk8HyOWoVpddIXP%2FsTDfS6rdNF5WgNgc7FXuoe2ZNlenBMBRHirmHMK0svVfiaJlLwYN5WUNE5aeVv3G30aiaUEg8k7baHuSO3V1IFIMcBsJBL3Q7HBFIHvhDHUsfgjo71KevfbPn%2FAYb2ZRYeYLyATWz2olMoiz40q60Z4%2BW%2F906Gzdg1W%2Bml3i%2F6mE1tj9quaaH33M7mx&X-Amz-Signature=cfee0183b7c3d1f81a93f304c48d58a2c22557e077b39d0c29aaf3bc5cb6c2c3&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


> ğŸ’¡ æ³¨æ„ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªéå¸¸å¥‡è‘©çš„è™šæ‹ŸåŸŸåï¼šapp.devos.comï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä½¿ç”¨äº† Surge è¿™æ¬¾æ¢¯å­ï¼Œè€Œæœºåœºçš„è§„åˆ™åˆè®¾ç½®äº†ä¸è®¤è¯†çš„åŸŸåä¼šç›´æ¥æ‹¦æˆªã€‚ã€‚ã€‚è¿™å°±å¯¼è‡´æˆ‘å¿…é¡»ä½¿ç”¨ .com ä¹‹ç±»çš„å¤§ä¼—åŸŸåæ‰èƒ½è®¿é—®ã€‚ä½ å½“ç„¶å¯ä»¥åƒç½‘ä¸Šå¤§éƒ¨åˆ†æ–¹æ¡ˆä¸€æ ·ä½¿ç”¨ .test ä½œä¸ºè™šæ‹ŸåŸŸåã€‚


### åå‘ä»£ç†å®¿ä¸»æœº


åœ¨ä½¿ç”¨ Nginx è¿‡ç¨‹ä¸­ï¼Œæœ€å¸¸è§çš„éœ€æ±‚ä¹‹ä¸€å°±æ˜¯åå‘ä»£ç†ã€‚è€Œåœ¨æˆ‘ä»¬ä½¿ç”¨ Docker ä¸­çš„ Nginx æ—¶ï¼Œæœ‰å¯èƒ½ä¼šé‡åˆ°éœ€è¦ä»£ç†å®¿ä¸»æœºçš„éœ€æ±‚ï¼Œè€Œ Docker å®¹å™¨ç½‘ç»œé»˜è®¤é‡‡ç”¨ host æ¨¡å¼ï¼Œè¿™ç§æ¨¡å¼ä¸‹å®¿ä¸»æœºå’Œå®¹å™¨å†…éƒ¨ç½‘ç»œå¹¶ä¸äº’é€šã€‚è¿™æ—¶å€™è¯¥æ€ä¹ˆå®ç°åå‘ä»£ç†å‘¢ï¼Ÿæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚


ç¬¬ä¸€ç§ï¼Œå°† Nginx å®¹å™¨çš„ç½‘ç»œæ”¹ä¸º bridge æ¨¡å¼ï¼Œè¿™æ ·å°±å¯ä»¥ä¸å®¿ä¸»æœºè¿›è¡Œé€šä¿¡ï¼Œæ­¤æ—¶åªè¦æŠŠå®¿ä¸»æœºçš„ ip åœ°å€å†™åœ¨ proxy_pass å¤„å³å¯ã€‚ä¾‹å¦‚ï¼š`proxy_pass http://10.18.10.114:3000/api`ã€‚ä½†è¿™ç§æ–¹å¼æœ‰å¾ˆå¤§çš„å¼Šç«¯ï¼Œæ¯”å¦‚å½“å®¿ä¸»æœº ip å˜æ›´æ—¶ï¼ŒNginx é…ç½®å°±éœ€è¦åŒæ­¥ä¿®æ”¹ï¼Œéå¸¸ç¹ç


è€Œç¬¬äºŒç§æ–¹å¼åˆ™æ˜¯æˆ‘æ¯”è¾ƒæ¨èçš„ã€‚Docker æš´éœ²äº† `http://host.docker.internal` è¿™ä¸ªåœ°å€å¹¶æ°¸è¿œæŒ‡å‘å®¿ä¸»æœº localhostï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥åœ¨ Nginx é…ç½®ä¸­ä½¿ç”¨è¿™ä¸ªåŸŸåä»£æ›¿å®¿ä¸»æœºåœ°å€ã€‚ä¸¾ä¾‹ï¼š


```text
server {
  listen 80;
  server_name app.devos.com;

  # Use [host.docker.internal] to visit host network.
  location /api {
    proxy_pass http://host.docker.internal:3000/api;
  }
}
```


## æŠŠ Docker å®¹å™¨ä½œä¸ºè™šæ‹Ÿæœºè¿›è¡Œç®€å•å¼€å‘


### èˆå°æ­å»º


å½“æˆ‘ä»¬åœ¨å­¦ä¹ ä¸€é—¨æ–°è¯­è¨€ã€æ–°æ¡†æ¶ã€æ–°æŠ€æœ¯ï¼Œäº¦æˆ–æ˜¯åœ¨è¿›è¡ŒæŠ€æœ¯é€‰å‹æ—¶ï¼Œæ›´å¤šæƒ…å†µä¸‹åªæ˜¯å¸Œæœ›èƒ½å¤Ÿç®€å•çš„ä½“éªŒä¸€ä¸‹ï¼Œè€Œä¸ºäº†è¿™ä¸ªç›®çš„åœ¨å®¿ä¸»æœºå®‰è£…ä¸€å¤§å †çš„ä¾èµ–ã€è¿›è¡Œç¹ççš„é…ç½®é€šå¸¸æ˜¯è®©äººä¸å¯æ¥å—çš„ã€‚å› æ­¤æˆ‘ä»¬è¿˜å¯ä»¥æŠŠ Docker ä½œä¸ºè™šæ‹Ÿæœºè¿›è¡Œç®€å•çš„å¼€å‘ã€‚


æ€è·¯å…¶å®éå¸¸ç®€å•ï¼Œæˆ‘ä»¬æŠŠå„ç§ç¹ççš„é…ç½®ã€è¯­è¨€ç¯å¢ƒå®‰è£…åœ¨ Docker å®¹å™¨ä¸­ï¼Œå†ä½¿ç”¨ç›®å½•æ˜ å°„æ–¹å¼çš„åªæŠŠé¡¹ç›®ä»£ç æ˜ å°„åˆ°å®¹å™¨ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å®¿ä¸»æœºç¼–å†™ä»£ç ï¼Œè€Œè¿è¡Œã€ç¼–è¯‘ç­‰è¿‡ç¨‹åˆ™å…¨éƒ¨è·‘åœ¨ Docker å®¹å™¨ä¸­ã€‚


ä¸‹é¢æˆ‘ä»¬å°†æ­å»ºä¸€ä¸ªåŸºäº Ubuntu åŸºç¡€é•œåƒçš„å¼€å‘èˆå°ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¹ Ubuntu åŸºç¡€é•œåƒè¿›è¡Œç®€å•çš„å®šåˆ¶ï¼Œæ–°å»º `workspace/Dockerfile` æ–‡ä»¶ï¼š

<details>
<summary>`workspace/Dockerfile`</summary>

```bash
FROM ubuntu:20.04

LABEL maintainer="varzy <varzy@live.com>"

########################################
# Source
########################################
RUN cp /etc/apt/sources.list /etc/apt/sources.list.bak
RUN sed -i 's/archive.ubuntu.com/mirrors.ustc.edu.cn/g' /etc/apt/sources.list
RUN apt update -y

########################################
# Timezone
########################################
ARG TZ=UTC
ENV TZ ${TZ}
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

########################################
# Lang
########################################
RUN apt install -y locales && \
    localedef -i en_US -c -f UTF-8 -A /usr/share/locale/locale.alias en_US.UTF-8
ENV LANG en_US.utf8

########################################
# Basic packages
########################################
RUN apt install -y curl git vim software-properties-common

########################################
# Node, Npm, Yarn
########################################
RUN apt install npm -y && \
    npm config set registry https://registry.npm.taobao.org && \
    npm install -g npm && \
    npm install -g n && \
    n stable
RUN npm install -g yarn && \
    yarn config set registry https://registry.npm.taobao.org && \
    echo 'export PATH="$HOME/.yarn/bin:$PATH"' >> ~/.bashrc && \
    yarn global add @vue/cli prettier eslint serve

########################################
# GO
########################################
RUN apt install golang-go -y
RUN go env -w GOPROXY=https://goproxy.cn,https://gocenter.io,https://goproxy.io,direct
RUN go clean --modcache

########################################
# Final
########################################
# Clean up
RUN apt-get clean && \
    rm -rf /var/lib/apt/lists/* /tmp/* /var/tmp/* && \
    rm /var/log/lastlog /var/log/faillog

EXPOSE 22 8000-8100
WORKDIR /workspace
```


</details>


å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ç»™è¿™ä¸ªé•œåƒè¿›è¡Œæ¢æºã€è®¾ç½®æ—¶åŒºã€å®‰è£… Node å’Œ Go å¼€å‘ç¯å¢ƒç­‰æ“ä½œï¼Œå¹¶ä¸”æœ€ç»ˆæš´éœ²å‡ºäº† 22 å’Œ 8000-8100 è¿™äº›ç«¯å£ï¼Œ22 ç”¨æ¥è¿›è¡Œ SSH é“¾æ¥ï¼Œè€Œå…¶ä»–é¡¹ç›®åˆ™éœ€è¦è·‘åœ¨ 8000-8100 ç«¯å£ä¸Šã€‚è€Œå®¹å™¨çš„é»˜è®¤å·¥ä½œç›®å½•åˆ™æ˜¯ `/workspace`ã€‚


æ¥ç€æˆ‘ä»¬åœ¨ `docker-compose.yml` ä¸­æ·»åŠ ä¸€ä¸ªåä¸º workspace çš„é…ç½®ã€‚


```yaml
version: "3.8"

services:
  workspace:
    container_name: workspace
    build:
      context: ./workspace
    stdin_open: true  # docker run -i
    tty: true  # docker exec -t
    volumes:
      - ./code:/workspace
    ports:
      - "22:22"
      - "8000-8100:8000-8100"
```


æ‰§è¡Œ `docker compose up -d workspace`ï¼Œå³å¯è‡ªåŠ¨æ„å»º workspace é•œåƒï¼Œå¹¶ä¸”å¯åŠ¨ä¸€ä¸ªæ–°çš„å®¹å™¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ `docker exec -it workspace /bin/bash` è¿›å…¥å®¹å™¨äº†ã€‚


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e753f4ed-a9d5-4b94-80b5-b5d3a8dd4851/5f89330f-df35-4cf7-ab49-d1a94bd344a0/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664EMNVTG%2F20250806%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250806T025114Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDMaCXVzLXdlc3QtMiJGMEQCID%2BLVQBa3CO4Ndasw7qs%2BOQkcObKa5XGY35rPNegqg2AAiBPh5urBhQhRtvGkaSf6TYo8r20d7i%2BE%2FDriODnpstRUSr%2FAwhrEAAaDDYzNzQyMzE4MzgwNSIM8sYU74U1DwG0skTaKtwDdERiUtNUiKKfv0py9VspYb%2FjyX8avOPCQnd68UGbkiD9R3eitconF1cWutW%2FEpctMKT3xfNGLwXD%2BQoLUMhlwpbIUzl91Eemd%2F427QtPEak8DcUuujrrgd8oKz1GRqmTZacbDmTWw6wGN7thafkNkrzxzopx4oxm5jGPYSypyzo4rcyp3cpHKjP%2BjnxUrOysC4jN36MAzcwHIMlUbFAH2qdMmA2yvz7i8rQGmPiEN5y3Jdgvoz0yR6HZvL6h6ixasmdA7B6g2phuzW8cBcCcLemTdeW%2FKQw0iHA%2BcAHXzB54Mz5qNUebP0xT3kFvvIwM0yOVAaXWK1Zx0d5l%2BXumQlCDKiUAW8XAWkZU%2BX%2F65aj3XYPWTFJ%2FaQ0y2wSlP4yQvpfTbyzZZFH5d4wn5EEfsOU3R54FXJYCYpOU70k%2BqNOf6gAt%2F9PFiIPDc4tk5QBaB%2FPEElnu4bw5EIOHkg4y3dxO0gFphew1VQzyJOEgEmOJyicCwnjbOA1QdhFNrAn5kD5Z9b8DaKHlaM%2Fe02VqLAhBNYMxmtnfQhHSKhCgVSh8Np9yXCpTnbt6xXGvggD0%2FolXXfd6pGcCv3uAUES2MXILXSM%2FEd3uW6903sl4zOVmWyFlb%2BH1XiRW55YwivjKxAY6pgGOsrrcybFRGq4muaDgPNk8HyOWoVpddIXP%2FsTDfS6rdNF5WgNgc7FXuoe2ZNlenBMBRHirmHMK0svVfiaJlLwYN5WUNE5aeVv3G30aiaUEg8k7baHuSO3V1IFIMcBsJBL3Q7HBFIHvhDHUsfgjo71KevfbPn%2FAYb2ZRYeYLyATWz2olMoiz40q60Z4%2BW%2F906Gzdg1W%2Bml3i%2F6mE1tj9quaaH33M7mx&X-Amz-Signature=8e56b45f8bc51d9264e68fa3bdf67b898b0d30df51c42cb66a4c397bb52ae582&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


### å¼€å‘ä¸€ä¸ªç®€å•çš„ Go è¯­è¨€é¡¹ç›®


æ¥ä¸‹æ¥æˆ‘ä»¬ä¼šå¼€å‘ä¸€ä¸ªåŸºäº [Iris æ¡†æ¶](https://www.iris-go.com/)çš„ Demo é¡¹ç›®ã€‚


é¦–å…ˆæˆ‘ä»¬è¿˜æ˜¯éœ€è¦æ‰§è¡Œ `docker exec -it workspace /bin/bash` è¿›å…¥å®¹å™¨ä¸­ï¼Œç†è®ºä¸Šé»˜è®¤å·¥ä½œè·¯å¾„å°±åœ¨ `/workspace` ç›®å½•ä¸‹ï¼Œæ¥ç€ä¾æ¬¡æ‰§è¡Œï¼š


```bash
mkdir demo-go-iris
cd demo-go-iris
go mod init demo-go-iris
go get github.com/kataras/iris/v12@master
touch main.go
```


æ­¤æ—¶ï¼Œå®¿ä¸»æœºçš„ `./code/demo-go-iris` ç›®å½•ä¸‹å°±ä¼šå‡ºç° `go.mod` å’Œ `main.go` ä¸¤ä¸ªæ–‡ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥åœ¨å®¿ä¸»æœºç¼–å†™ä»£ç äº†ã€‚æ¯”å¦‚æˆ‘ä»¬å°±åœ¨ main.go ä¸­æ·»åŠ  Iris æ–‡æ¡£ä¸­æœ€ç®€å•çš„ç¤ºä¾‹ä»£ç ï¼š

<details>
<summary>`main.go`ã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ Iris æ–‡æ¡£ä¸­æ‰¾åˆ°è¿™æ®µä»£ç </summary>

```go
package main

import "github.com/kataras/iris/v12"

func main() {
    app := iris.New()

    booksAPI := app.Party("/books")
    {
        booksAPI.Use(iris.Compression)

        // GET: http://localhost:8080/books
        booksAPI.Get("/", list)
        // POST: http://localhost:8080/books
        booksAPI.Post("/", create)
    }

    app.Listen(":8080")
}

// Book example.
type Book struct {
    Title string `json:"title"`
}

func list(ctx iris.Context) {
    books := []Book{
        {"Mastering Concurrency in Go"},
        {"Go Design Patterns"},
        {"Black Hat Go"},
    }

    ctx.JSON(books)
    // TIP: negotiate the response between server's prioritizes
    // and client's requirements, instead of ctx.JSON:
    // ctx.Negotiation().JSON().MsgPack().Protobuf()
    // ctx.Negotiate(books)
}

func create(ctx iris.Context) {
    var b Book
    err := ctx.ReadJSON(&b)
    // TIP: use ctx.ReadBody(&b) to bind
    // any type of incoming data instead.
    if err != nil {
        ctx.StopWithProblem(iris.StatusBadRequest, iris.NewProblem().
            Title("Book creation failure").DetailErr(err))
        // TIP: use ctx.StopWithError(code, err) when only
        // plain text responses are expected on errors.
        return
    }

    println("Received Book: " + b.Title)

    ctx.StatusCode(iris.StatusCreated)
}
```


</details>


æ¥ä¸‹æ¥æˆ‘ä»¬å›åˆ°å®¹å™¨å†…çš„ç»ˆç«¯ï¼Œæ‰§è¡Œ `go run main.go`ï¼Œå°±å¯ä»¥çœ‹åˆ°é¡¹ç›®å·²ç»å¯åŠ¨æˆåŠŸäº†ã€‚


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e753f4ed-a9d5-4b94-80b5-b5d3a8dd4851/a02f32b2-d4e8-44c4-bb84-d0bfde842c60/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664EMNVTG%2F20250806%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250806T025114Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDMaCXVzLXdlc3QtMiJGMEQCID%2BLVQBa3CO4Ndasw7qs%2BOQkcObKa5XGY35rPNegqg2AAiBPh5urBhQhRtvGkaSf6TYo8r20d7i%2BE%2FDriODnpstRUSr%2FAwhrEAAaDDYzNzQyMzE4MzgwNSIM8sYU74U1DwG0skTaKtwDdERiUtNUiKKfv0py9VspYb%2FjyX8avOPCQnd68UGbkiD9R3eitconF1cWutW%2FEpctMKT3xfNGLwXD%2BQoLUMhlwpbIUzl91Eemd%2F427QtPEak8DcUuujrrgd8oKz1GRqmTZacbDmTWw6wGN7thafkNkrzxzopx4oxm5jGPYSypyzo4rcyp3cpHKjP%2BjnxUrOysC4jN36MAzcwHIMlUbFAH2qdMmA2yvz7i8rQGmPiEN5y3Jdgvoz0yR6HZvL6h6ixasmdA7B6g2phuzW8cBcCcLemTdeW%2FKQw0iHA%2BcAHXzB54Mz5qNUebP0xT3kFvvIwM0yOVAaXWK1Zx0d5l%2BXumQlCDKiUAW8XAWkZU%2BX%2F65aj3XYPWTFJ%2FaQ0y2wSlP4yQvpfTbyzZZFH5d4wn5EEfsOU3R54FXJYCYpOU70k%2BqNOf6gAt%2F9PFiIPDc4tk5QBaB%2FPEElnu4bw5EIOHkg4y3dxO0gFphew1VQzyJOEgEmOJyicCwnjbOA1QdhFNrAn5kD5Z9b8DaKHlaM%2Fe02VqLAhBNYMxmtnfQhHSKhCgVSh8Np9yXCpTnbt6xXGvggD0%2FolXXfd6pGcCv3uAUES2MXILXSM%2FEd3uW6903sl4zOVmWyFlb%2BH1XiRW55YwivjKxAY6pgGOsrrcybFRGq4muaDgPNk8HyOWoVpddIXP%2FsTDfS6rdNF5WgNgc7FXuoe2ZNlenBMBRHirmHMK0svVfiaJlLwYN5WUNE5aeVv3G30aiaUEg8k7baHuSO3V1IFIMcBsJBL3Q7HBFIHvhDHUsfgjo71KevfbPn%2FAYb2ZRYeYLyATWz2olMoiz40q60Z4%2BW%2F906Gzdg1W%2Bml3i%2F6mE1tj9quaaH33M7mx&X-Amz-Signature=1f16b64580abc9fb285ef9f7e9a1a07d34ef7ba9506cc453a747a302f37e70c4&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


æ¥ä¸‹æ¥åœ¨å®¿ä¸»æœºæµè§ˆå™¨ä¸­è®¿é—® `http://localhost:8080/books`ã€‚


![Untitled.png](https://prod-files-secure.s3.us-west-2.amazonaws.com/e753f4ed-a9d5-4b94-80b5-b5d3a8dd4851/b40846f9-ada4-450b-b7b2-b2d4455eb0db/Untitled.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB46664EMNVTG%2F20250806%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20250806T025114Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEDMaCXVzLXdlc3QtMiJGMEQCID%2BLVQBa3CO4Ndasw7qs%2BOQkcObKa5XGY35rPNegqg2AAiBPh5urBhQhRtvGkaSf6TYo8r20d7i%2BE%2FDriODnpstRUSr%2FAwhrEAAaDDYzNzQyMzE4MzgwNSIM8sYU74U1DwG0skTaKtwDdERiUtNUiKKfv0py9VspYb%2FjyX8avOPCQnd68UGbkiD9R3eitconF1cWutW%2FEpctMKT3xfNGLwXD%2BQoLUMhlwpbIUzl91Eemd%2F427QtPEak8DcUuujrrgd8oKz1GRqmTZacbDmTWw6wGN7thafkNkrzxzopx4oxm5jGPYSypyzo4rcyp3cpHKjP%2BjnxUrOysC4jN36MAzcwHIMlUbFAH2qdMmA2yvz7i8rQGmPiEN5y3Jdgvoz0yR6HZvL6h6ixasmdA7B6g2phuzW8cBcCcLemTdeW%2FKQw0iHA%2BcAHXzB54Mz5qNUebP0xT3kFvvIwM0yOVAaXWK1Zx0d5l%2BXumQlCDKiUAW8XAWkZU%2BX%2F65aj3XYPWTFJ%2FaQ0y2wSlP4yQvpfTbyzZZFH5d4wn5EEfsOU3R54FXJYCYpOU70k%2BqNOf6gAt%2F9PFiIPDc4tk5QBaB%2FPEElnu4bw5EIOHkg4y3dxO0gFphew1VQzyJOEgEmOJyicCwnjbOA1QdhFNrAn5kD5Z9b8DaKHlaM%2Fe02VqLAhBNYMxmtnfQhHSKhCgVSh8Np9yXCpTnbt6xXGvggD0%2FolXXfd6pGcCv3uAUES2MXILXSM%2FEd3uW6903sl4zOVmWyFlb%2BH1XiRW55YwivjKxAY6pgGOsrrcybFRGq4muaDgPNk8HyOWoVpddIXP%2FsTDfS6rdNF5WgNgc7FXuoe2ZNlenBMBRHirmHMK0svVfiaJlLwYN5WUNE5aeVv3G30aiaUEg8k7baHuSO3V1IFIMcBsJBL3Q7HBFIHvhDHUsfgjo71KevfbPn%2FAYb2ZRYeYLyATWz2olMoiz40q60Z4%2BW%2F906Gzdg1W%2Bml3i%2F6mE1tj9quaaH33M7mx&X-Amz-Signature=df5492637426217cb3ec0a7e5a319289e6a7c5ae3960644932e3b8d842d6f1ef&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject)


èƒ½çœ‹åˆ°è¿™æ ·çš„æ•ˆæœå°±è¯´æ˜å·²ç»æˆåŠŸäº†ã€‚


### ä½¿ç”¨ VSCode åœ¨å®¹å™¨ç«¯è¿›è¡Œå¼€å‘


è™½ç„¶åƒä¸Šé¢è¿™æ ·çš„æ–¹æ¡ˆå·²ç»å¯ä»¥åº”ä»˜å¤§éƒ¨åˆ† demo åœºæ™¯ï¼Œä½†åœ¨å®¿ä¸»æœºç¼–å†™ä»£ç æ—¶ï¼Œå¦‚æœå®¿ä¸»æœºæ²¡æœ‰å®‰è£…å¯¹åº”è¯­è¨€ç¯å¢ƒï¼Œå¯èƒ½ä¼šå‡ºç°ä»£ç è¡¥å…¨å¼‚å¸¸ã€ä»£ç é«˜äº®é”™è¯¯çš„é—®é¢˜ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å€ŸåŠ©å®‡å®™ç¬¬ä¸€ç¼–è¾‘å™¨ VSCode çš„ä¸€ä¸ªå®˜æ–¹æ’ä»¶ï¼šRemote - Container ç›´æ¥è¿›å…¥å®¹å™¨å†…éƒ¨è¿›è¡Œå¼€å‘ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒVSCode è¿˜æ¨å‡ºäº† SSHã€WSL ç­‰å„ç§è¿œç¨‹å¥—ä»¶ï¼Œéƒ½éå¸¸å¥½ç”¨ã€‚


![uEjSvtOFio7CfV5.png](https://cdn.sa.net/2024/03/15/uEjSvtOFio7CfV5.png)


åŒæ—¶å®‰è£… `Remote - Container` å’Œ `Docker` ä¸¤ä¸ªæ’ä»¶ï¼Œæ¥ç€æˆ‘ä»¬å°±å¯ä»¥åœ¨ Docker æ’ä»¶é¢æ¿ä¸­å³é”®ç‚¹å‡» Workspace é•œåƒï¼Œç‚¹å‡» Attach Visual Studio Codeï¼Œå³å¯æ‰“å¼€ä¸€ä¸ªè¿œç¨‹è¿æ¥åˆ°å®¹å™¨å†…çš„ VSCode çª—å£ã€‚å½“æˆ‘ä»¬æ‰“å¼€ç»ˆç«¯ï¼Œå‘ç°é»˜è®¤ç»ˆç«¯å°±å·²ç»æ˜¯å®¹å™¨ä¸­å†…çš„ç»ˆç«¯äº†ï¼Œä½ åœ¨è¿™ä¸ªçª—å£å†…ç¼–å†™çš„å…¨éƒ¨ä»£ç æœ¬è´¨ä¸Šå°±å·²ç»å’Œå®¿ä¸»æœºæ²¡æœ‰ä»»ä½•å…³ç³»äº†ã€‚


![Cuaxen9HSB563IP.png](https://cdn.sa.net/2024/03/15/Cuaxen9HSB563IP.png)


![ANvOuYdekwqtUfc.png](https://cdn.sa.net/2024/03/15/ANvOuYdekwqtUfc.png)


## å¼€æºé¡¹ç›® & DevOS


ä½¿ç”¨ Docker ä½œä¸ºå¼€å‘ç¯å¢ƒè¶Šæ¥è¶Šç«ï¼Œæ¯”å¦‚ Laravel æ¡†æ¶å‰æ®µæ—¶é—´å°±æ¨å‡ºäº†åŸºäº Docker çš„ [Laravel Sail](https://laravel.com/docs/8.x/sail) ç”¨äºå–ä»£ä¹‹å‰ä¸»æ¨çš„è™šæ‹Ÿæœºæ–¹æ¡ˆ Homesteadã€‚è€Œåœ¨æ­¤ä¹‹å‰ç½‘ä¸Šä¹Ÿæœ‰è®¸å¤šä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œæ¯”å¦‚æˆ‘ä¹‹å‰å°±å†™è¿‡æ–‡ç« è¿›è¡Œä»‹ç»çš„ [Laradock](https://laradock.io/)ã€‚Laradock æ˜¯ä¸€ä¸ªå¤§è€Œå…¨çš„ã€ä¸»è¦æœåŠ¡äº PHP çš„å¼€å‘ç¯å¢ƒåˆè¾‘ï¼Œä½†å®é™…ä¸Šä½ ä¹Ÿå¯ä»¥å¾ˆæ–¹ä¾¿å¾—è¿›è¡Œå®¢åˆ¶åŒ–ï¼ŒæŠŠå®ƒæ‰“é€ æˆé€‚åˆè‡ªå·±çš„å¼€å‘ç¯å¢ƒã€‚


è€Œæˆ‘ä¹Ÿæ–—èƒ†é€ äº†ä¸ªè½®å­ï¼Œå°è£…äº†ä¸€äº›è‡ªå·±å¸¸ç”¨çš„æœåŠ¡ï¼Œå¹¶ä¸”å·²ç»å¼€æºï¼š[https://github.com/varzy/DevOS](https://github.com/varzy/DevOS)ï¼Œæ¬¢è¿å„ä½å¸®å¿™åŠ æ˜Ÿæ˜Ÿ ğŸ˜‰ã€‚

